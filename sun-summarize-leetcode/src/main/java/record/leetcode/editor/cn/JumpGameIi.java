package record.leetcode.editor.cn;
//ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„ 0 ç´¢å¼•æ•´æ•°æ•°ç»„ numsã€‚åˆå§‹ä½ç½®ä¸º nums[0]ã€‚
//
// æ¯ä¸ªå…ƒç´  nums[i] è¡¨ç¤ºä»ç´¢å¼• i å‘å‰è·³è½¬çš„æœ€å¤§é•¿åº¦ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ åœ¨ nums[i] å¤„ï¼Œä½ å¯ä»¥è·³è½¬åˆ°ä»»æ„ nums[i + j] å¤„:
//
//
// 0 <= j <= nums[i]
// i + j < n
//
//
// è¿”å›åˆ°è¾¾ nums[n - 1] çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥åˆ°è¾¾ nums[n - 1]ã€‚
//
//
//
// ç¤ºä¾‹ 1:
//
//
//è¾“å…¥: nums = [2,3,1,1,4]
//è¾“å‡º: 2
//è§£é‡Š: è·³åˆ°æœ€åä¸€ä¸ªä½ç½®çš„æœ€å°è·³è·ƒæ•°æ˜¯ 2ã€‚
//Â     ä»ä¸‹æ ‡ä¸º 0 è·³åˆ°ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼Œè·³Â 1Â æ­¥ï¼Œç„¶åè·³Â 3Â æ­¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚
//
//
// ç¤ºä¾‹ 2:
//
//
//è¾“å…¥: nums = [2,3,0,1,4]
//è¾“å‡º: 2
//
//
//
//
// æç¤º:
//
//
// 1 <= nums.length <= 10â´
// 0 <= nums[i] <= 1000
// é¢˜ç›®ä¿è¯å¯ä»¥åˆ°è¾¾ nums[n-1]
//
//
// Related Topicsè´ªå¿ƒ | æ•°ç»„ | åŠ¨æ€è§„åˆ’
//
// ğŸ‘ 2578, ğŸ‘ 0bug åé¦ˆ | ä½¿ç”¨æŒ‡å— | æ›´å¤šé…å¥—æ’ä»¶
//
//
//
//

import java.util.Arrays;

public class JumpGameIi {
	public static void main(String[] args) {
		Solution solution = new JumpGameIi().new Solution();

		int[] arr = new int[]{3, 1, 4, 2, 6, 8, 2, 5};
		solution.jump2(arr);

	}

	//leetcode submit region begin(Prohibit modification and deletion)
	class Solution {

		/**
		 * é—®é¢˜æè¿°ï¼š
		 * ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ nums ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ ç¬¬ä¸€ä¸ªä¸‹æ ‡ ã€‚æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚è·å–èƒ½èµ°åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æœ€å°æ­¥æ•°ã€‚
		 * <p>
		 * 1ã€å½“å‰ä½ç½®ç´¢å¼•ï¼š                                                       index = [0,1,2,3,4]
		 * 2ã€å½“å‰æ•°ç»„ï¼š                                                           nums = [2,3,1,1,4]
		 * 3ã€ç´¢å¼•è·³è½¬ï¼š
		 * ï¼ˆ1ï¼‰åªçœ‹å½“å‰ä½ç½®æœ€è¿œå¯è·³è½¬åˆ°æ•°ç»„çš„ä½ç½®ç´¢å¼•ï¼š        farthest = index+ nums[index] = [2,4,3,4,8]
		 * ï¼ˆ2ï¼‰è€ƒè™‘å‰ä¸€ä¸ªä½ç½®å½“å‰ä½ç½®æœ€è¿œå¯è·³è½¬åˆ°æ•°ç»„çš„ä½ç½®ç´¢å¼•ï¼šMax(farthest[i-1],farthest[i])=[2,4,4,4,8]
		 * <p>
		 * index = 0 value = 2 å¯è·³è½¬è‡³ index = 1;index = 2;
		 * index = 1 value = 3 å¯è·³è½¬è‡³ index = 2;index = 3;index = 4;
		 * index = 2 value = 1 å¯è·³è½¬è‡³ index = 3;
		 * index = 3 value = 1 å¯è·³è½¬è‡³ index = 4;ï¼ˆæŠµè¾¾æ•°ç»„æœ«å°¾ï¼‰
		 * index = 4 value = 4 å¯è·³è½¬è‡³ index = 5;index = 6;index = 7;index = 8;index = 9;
		 * <p>
		 * å¯æŠµè¾¾æœ«å°¾çš„è·¯çº¿(index)ä¸º
		 * 1-> 2 -> 3 -> 4 (ä¸€æ¬¡èµ°ä¸€æ­¥)
		 * 2-> 3 -> 4 (å…ˆèµ°ä¸¤æ­¥ï¼Œèµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥)
		 * 1-> 4 (å…ˆèµ°ä¸€æ­¥ï¼Œå†èµ°ä¸‰æ­¥)
		 * <p>
		 * é—®é¢˜å¯è½¬åŒ–ä¸ºè·å–ä¸Šè¿°ä¸‰ç§è·¯çº¿çš„æœ€å°å€¼
		 *
		 * @param nums æ•°ç»„
		 * @return boolean
		 */

		/**
		 * å¤‡å¿˜å½•
		 */
		private int[] memo;

		public int jump(int[] nums) {
			int n = nums.length;
			// å¤‡å¿˜å½•éƒ½åˆå§‹åŒ–ä¸º nï¼Œç›¸å½“äº INT_MAX
			// å› ä¸ºä» 0 è·³åˆ° n - 1 æœ€å¤š n - 1 æ­¥
			memo = new int[n];
			Arrays.fill(memo, n);
			return dp(nums, 0);
		}

		/**
		 * å®šä¹‰ï¼šä»ç´¢å¼• p è·³åˆ°æœ€åä¸€æ ¼ï¼Œè‡³å°‘éœ€è¦ dp(nums, p) æ­¥
		 *
		 * @param nums æ•°ç»„
		 * @param p    ç´¢å¼•
		 * @return int
		 */
		int dp(int[] nums, int p) {
			// base case å°±æ˜¯å½“ p è¶…è¿‡æœ€åä¸€æ ¼æ—¶ï¼Œä¸éœ€è¦è·³è·ƒï¼š
			int n = nums.length;

			// base case
			if (p >= n - 1) {
				return 0;
			}

			// å­é—®é¢˜å·²ç»è®¡ç®—è¿‡
			if (memo[p] != n) {
				return memo[p];
			}

			int steps = nums[p];

			// ä½ å¯ä»¥é€‰æ‹©è·³ 1 æ­¥ï¼Œ2 æ­¥...
			for (int i = 1; i <= steps; i++) {
				// ç©·ä¸¾æ¯ä¸€ä¸ªé€‰æ‹©
				// è®¡ç®—æ¯ä¸€ä¸ªå­é—®é¢˜çš„ç»“æœ
				int subProblem = dp(nums, p + i);
				// å–å…¶ä¸­æœ€å°çš„ä½œä¸ºæœ€ç»ˆç»“æœ
				memo[p] = Math.min(memo[p], subProblem + 1);
			}

			return memo[p];
		}


		/**
		 * å±€éƒ¨æœ€ä¼˜å…¨å±€æœ€ä¼˜
		 * <p>
		 * ç´¢å¼•ï¼š[0,1,2,3,4,5,6,7]
		 * æ•°ç»„ï¼š[3,1,4,2,6,8,2,5]
		 * <p>
		 * å½“index = 0 value = 3;å¯ä»¥å‘å‰è·³1ï¼Œ2æˆ–3æ­¥
		 * <p>
		 * ï¼ˆ1ï¼‰å‘å‰è·³ä¸€æ­¥ï¼Œå½“index = 1 value = 1  indexçš„è¦†ç›–èŒƒå›´ä¸º[1~2]
		 * ï¼ˆ2ï¼‰å‘å‰è·³ä¸¤æ­¥ï¼Œå½“index = 2 value = 4  indexçš„è¦†ç›–èŒƒå›´ä¸º[2~6]
		 * ï¼ˆ3ï¼‰å‘å‰è·³ä¸‰æ­¥ï¼Œå½“index = 3 value = 2  indexçš„è¦†ç›–èŒƒå›´ä¸º[3~5]
		 * <p>
		 * æ ¹æ®è´ªå¿ƒç®—æ³•ï¼Œå±€éƒ¨æœ€ä¼˜å…¨å±€æœ€ä¼˜ï¼Œè‚¯å®šé€‰æ‹©è·³ä¸¤æ­¥ä¸ºæœ€ä¼˜è§£ç­”ï¼Œå› ä¸ºå…¶å‘åè¦†ç›–èŒƒå›´æœ€å¹¿
		 *
		 * @param nums æ•°ç»„
		 * @return int
		 */
		public int jump2(int[] nums) {
			int n = nums.length;

			int end = 0;
			int farthest = 0;
			int jumps = 0;

			for (int i = 0; i < n - 1; i++) {

				// å½“å‰ä½ç½®å¯å‘åè¦†ç›–çš„æœ€è¿œè·ç¦»
				farthest = Math.max(nums[i] + i, farthest);

				// mums[i] å¯è·³è½¬ä¸ºä½ç½® [i~end~farthest]
				// endçš„ä½ç½®å¯¹åº”çš„ä¸‹ä¸ªè·³è½¬è¦†ç›–èŒƒå›´æœ€å¤§
				// åˆ°äº†è·³è½¬å¯è¦†ç›–æœ€å¤§ä½ç½®ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥è·³è½¬ ï¼Œjumps++
				if (end == i) {
					jumps++;
					end = farthest;
				}
			}
			return jumps;
		}

	}
//leetcode submit region end(Prohibit modification and deletion)

}
